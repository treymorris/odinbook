const mongoose = require("mongoose");
const Schema = mongoose.Schema;

const UserSchema = new Schema({
  firstname: { type: String, required: true, maxLength: 25 },
  lastname: { type: String, required: true, maxLength: 25 },
  password: { type: String, required: true },
  email: { type: String, required: true },
  username: { type: String, minLength: 1 },
  posts: [{ type: Schema.Types.ObjectId, ref: "Post" }],
  friends: [{ type: Schema.Types.ObjectId, ref: "User" }],
  friend_requests: [{ type: Schema.Types.ObjectId, ref: "Friend" }],
  birth_date: { type: Date },
  bio: { type: String, maxlength: 550 },
  profile_pic: {
    type: String,
    default:
      "data:image/jpeg;base64,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",
  },
  hobbies: { type: String, maxlength: 550 },
});

// Virtual for User's full name
UserSchema.virtual("name").get(function () {
  // To avoid errors in cases where a User does not have either a family name or first name
  // We want to make sure we handle the exception by returning an empty string for that case
  var fullname = "";
  if (this.first_name && this.last_name) {
    fullname = this.lastname + ", " + this.firstname;
  }
  if (!this.firstname || !this.lastname) {
    fullname = "";
  }
  return fullname;
});

// Virtual for user's URL
UserSchema.virtual("url").get(function () {
  return "/users/" + this._id;
});

module.exports = mongoose.model("User", UserSchema);
